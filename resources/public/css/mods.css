/* MODIFICATIONS / BULK GENERIC STYLE CLASSES (ish, damn hard to decide on some stuff) */
/* mostly trying to clean up main.css a bit... */

.fader {
  position: relative;
  z-index: 25;
  width: 100%;
}
.fade-to-black { /* well this is certainly a misnomer. .fade-to? */
  position: absolute;
  width: 100%;
}
.fade-to-black.top {
  top: 0;
  height: calc(4 * var(--space));
  background: linear-gradient(180deg, var(--bg-1) 50%, transparent 100%);
}
.fade-to-black.bottom {
  bottom: 0;
  height: calc(4 * var(--space));
  background: linear-gradient(0deg, var(--bg-1) 20%, transparent 102%);
}
.fade-to-black.between {
  --height: 3.5;
  height: calc(var(--height) * var(--space-lg));
  top:    calc(-0.5 * var(--height) * var(--space-lg));
  background: linear-gradient(0deg,
      hsl(var(--hue-3), 2%, var(--lum-bg-1), 0.0)  0%,
      hsl(var(--hue-3), 8%, var(--lum-bg-2)) 50%,
      hsl(var(--hue-3), 28%, var(--lum-bg-2), 0.0)  100%);
}
.fade-to-black.between.red {
  background: linear-gradient(0deg, transparent 0%,
      hsl(var(--hue-2), 8%, var(--lum-bg-2)) 50%,
      transparent 90%);
}
.fade-to-black.light-from-below {
  background: linear-gradient(180deg, transparent 0%,
      hsl(var(--hue-2), 8%, var(--lum-fg-2)) 120%);
  --height: 30vh;
  height: calc(var(--height));
  bottom: 0;
}


/* Show/hide and slide in from left. */
.slide-in {
    position: relative;
    z-index: 0;
    left: 0;
    right: 0;
    transition: 0.4s;
    /* transition-delay: opacity 0.1s; */
}
.slide-out-left { left: -100%; }
.slide-out-right { right: -100%; }

.hidden {
  visibility: hidden !important;
  opacity: 0;
  transition: visibility 0s 0.15s, opacity 0.15s ease-in;
}
.visible {
  visibility: visible !important;
  opacity: 1;
  transition: opacity 0.15s ease-out;
}
.removed  { display: none; }
.restored { display: inherit; }



.solid-bg {
  background-color: var(--bg-1);
}
.hi-z {
  z-index: 99;
}


.covering { /* just, hide-out earlier stupid stickies. z-index should be a mixin giving layer, or by js parsing past? */
  z-index: 10;
  background: var(--gradient-bg-main);
}
.covering-faded { /* jk */ /* incidentally not easy to type on a proper vim setup */
  --opacity: 0.65;
  /* --color-1: hsla(var(--hue-1),  38%,  var(--lum-bg-1), var(--opacity)); */
  /* --color-2: hsla(var(--hue-2),  36%,  var(--lum-bg-1), var(--opacity)); */
  --color-1: hsla(var(--hue-1),  38%,  var(--lum-bg-1));
  --color-2: hsla(var(--hue-2),  36%,  var(--lum-bg-1));
  background: linear-gradient(-40deg, var(--color-1), var(--color-2));
  opacity: var(--opacity);
  transition: opacity 0.4s;
  /* think prob compositing is bad enough, even worse with gradient or? */
  /* definitely move to burn-in on video either way. then if want to transition to no fg do it by fading to orig version */
  /* if html n shit server side can just have it gen appropriate vids/imgs etc once from settings */
  /* background: var(--bg-1); */
}
.covering-faded:hover, .covering-faded:focus { /* jk */ /* incidentally not easy to type on a proper vim setup */
  opacity: 0.50;
}

.anim-gradient-bg {
  --opacity: 0.90;
  /* --opacity: 1.00; */
  --deg: -40deg;
  --color-1: hsla(var(--hue-1),  30%,  var(--lum-bg-1), var(--opacity));
  --color-2: hsla(var(--hue-2),  30%,  var(--lum-bg-1), var(--opacity));
  /* background: linear-gradient(-30deg, var(--color-1), var(--bg-1)); */
  background: linear-gradient(var(--deg), var(--color-1), var(--color-2));
  /* background: linear-gradient(var(--deg), var(--color-1), var(--color-2)); */
  background-size: 230%;
  animation: gradient-bg 10s ease infinite;
  backdrop-filter: blur(4px) contrast(70%);
  -webkit-backdrop-filter: blur(4px) contrast(70%);
}
@keyframes gradient-bg {
	0%     { background-position:   0% 50%;
	} 50%  { background-position: 100% 50%;
	} 100% { background-position:   0% 50%;
	}
}


.blur-bg { /* backdrop-filter is finicky with transitions, so... */
  position: absolute;
  top: 0; left: 0;
  /* pointer-events: none; */
  width: 100%;
  z-index: 0;
  height: 100%;
  opacity: 0.4;
  backdrop-filter: blur(2rem) brightness(130%);
  -webkit-backdrop-filter: blur(2rem) brightness(130%);
  transition: opacity 0.5s;
}
.blur-behind {
  backdrop-filter: blur(1rem);
  -webkit-backdrop-filter: blur(1rem);
}


.center-content {
  display: flex;
  justify-content: center;
  align-items: center;
}

.fade-3 { opacity: 0.30; }
.fade-5 { opacity: 0.62; }
.darken-3 { filter: brightness(30%); }
.darken-5 { filter: brightness(55%); }


/* PARALLAX */
/* needs to be torn down and redone properly. messy as balls now */

/* .parallax-wrapper {} */
/* .parallax-group {} */
/* .parallax-layer {} */

.perspective-top { /* default perspective for main. */
  perspective: calc(1px * var(--perspective));
  /* perspective-origin: top; /1* starts where i want but then want it going other dir... or maybe going up-away better, more understated... *1/ */
}
.parallax-sm, .parallax-bg, .parallax-fg {
  /* transform-origin: top; */
  transform-style: preserve-3d;
  overflow-y: auto;
}
.parallax-sm {
  /* transform: translateZ(var(--parallax-sm-px)) scale(var(--parallax-sm-scale)); */
  transform: translateZ(var(--parallax-sm-px))
             translateY(-10%)
             /* translateY(-50%) */
             /* translateY(var(--parallax-sm-px)) */
             scale(var(--parallax-sm-scale));
}
.parallax-bg {
  transform: translateZ(var(--parallax-px)) scale(var(--parallax-scale));
  z-index: -1;
  /* another issue being mindfuck of using this as fg (ie text) heh... */
  /* transform-origin: 50% -150%; */ /* perf on chrome, mac safari, but fucks ios... */
}
.parallax-fg {
  transform: translateZ(calc(-1px * var(--parallax-sm))) scale(calc(1 / var(--parallax-sm-scale))); /* not actually being translated... 1.1 is the 1:1 scale btw obv but 1.2 looks good in this case */
  /* transform-style: preserve-3d; */
}
.parallax-squeeze {
  transform-origin: 50% var(--parallax-squeeze-tf); /* obviously... not realistic */
  transform: translateZ(var(--parallax-squeeze-px)) scale(var(--parallax-squeeze-scale)); /* not actually being translated... 1.1 is the 1:1 scale btw obv but 1.2 looks good in this case */
  /* transform-style: preserve-3d; */
}
.origin-toptop {
  /* transform-origin: 50% -100%; */
  /* transform-origin: 50% -250%; */ /* gap up top chrome #intro-end, middle ground? */
  /* transform-origin: 50% -150%; */
  transform-origin: 50% -100%;
}


.debug-layers * {
  /* -webkit-transform: translate3d(150px, 0, -150px) rotateY(30deg); */
  /* transform: translate3d(10px, -25px, -10px) rotateY(1deg); */
  transform: translate3d(10px, -25px, -10px)
             rotateY(1deg)
             rotateX(-5deg);
  /* opacity: 0.85; */
  transition: transform 0.3s;
}
* { /*for animation both ways */
  transform: none;
  transition: transform 0.3s;
}
.debug-layers {         box-shadow: 0 0 0 1px #6d8; }
.debug-layers div {     box-shadow: 0 0 0 1px #3bf; }
.debug-layers section { box-shadow: 0 0 0 1px #fb5; }
.debug-layers .media {  box-shadow: 0 0 0 2px #f62; }

.inline { display: inline; }
.box-regular { box-shadow: 2px 1px 17px 7px var(--box-regular-color); }
.box-faint {   box-shadow: 2px 1px 17px 7px var(--box-faint-color); }


/* /1* FROM keithclark demo *1/ */
/* .parallax { */
/*     height: 500px; /1* fallback for older browsers *1/ */
/*     height: 100vh; */
/*     overflow-x: hidden; */
/*     overflow-y: auto; */
/*     -webkit-perspective: 300px; */
/*     perspective: 300px; */
/*   } */

/*   .parallax__group { */
/*     position: relative; */
/*     height: 500px; /1* fallback for older browsers *1/ */
/*     height: 100vh; */
/*     -webkit-transform-style: preserve-3d; */
/*     transform-style: preserve-3d; */
/*   } */

/*   .parallax__layer { */
/*     position: absolute; */
/*     top: 0; */
/*     left: 0; */
/*     right: 0; */
/*     bottom: 0; */
/*   } */

/*   .parallax__layer--fore { */
/*     -webkit-transform: translateZ(90px) scale(.7); */
/*     transform: translateZ(90px) scale(.7); */
/*     z-index: 1; */
/*   } */

/*   .parallax__layer--base { */
/*     -webkit-transform: translateZ(0); */
/*     transform: translateZ(0); */
/*     z-index: 4; */
/*   } */

/*   .parallax__layer--back { */
/*     -webkit-transform: translateZ(-300px) scale(2); */
/*     transform: translateZ(-300px) scale(2); */
/*     z-index: 3; */
/*   } */

/*   .parallax__layer--deep { */
/*     -webkit-transform: translateZ(-600px) scale(3); */
/*     transform: translateZ(-600px) scale(3); */
/*     z-index: 2; */
/*   } */


/*   /1* Debugger styles - used to show the effect */
/*   --------------------------------------------- *1/ */

/*   .debug { */
/*     position: fixed; */
/*     top: 0; */
/*     left: .5em; */
/*     z-index: 999; */
/*     background: rgba(0,0,0,.85); */
/*     color: #fff; */
/*     padding: .5em; */
/*     border-radius: 0 0 5px 5px; */
/*   } */
/*   .debug-on .parallax__group { */
/*     -webkit-transform: translate3d(800px, 0, -800px) rotateY(30deg); */
/*     transform: translate3d(700px, 0, -800px) rotateY(30deg); */
/*  } */
/*   .debug-on .parallax__layer { */
/*     box-shadow: 0 0 0 2px #000; */
/*     opacity: 0.9; */
/*   } */
/*   .parallax__group { */
/*     -webkit-transition: -webkit-transform 0.5s; */
/*     transition: transform 0.5s; */
/*   } */


  /* demo styles
  --------------------------------------------- */

  /* body, html { */
  /*   overflow: hidden; */
  /* } */

  /* body { */
  /*   font: 100% / 1.5 Arial; */
  /* } */

  /* * { */
  /*   margin:0; */
  /*   padding:0; */
  /* } */

  /* .parallax { */
  /*   font-size: 200%; */
  /* } */

  /*  /1* centre the content in the parallax layers *1/ */
  /* .title { */
  /*   text-align: center; */
  /*   position: absolute; */
  /*   left: 50%; */
  /*   top: 50%; */
  /*   -webkit-transform: translate(-50%, -50%); */
  /*   transform: translate(-50%, -50%); */
  /* } */


  /* style the groups
  --------------------------------------------- */
  /* #group1 { z-index: 5; /1* slide over group 2 *1/ } */
  /* #group1 .parallax__layer--base { background: rgb(102,204,102); } */
  /* #group2 { z-index: 3; /1* slide under groups 1 and 3 *1/ } */
  /* #group2 .parallax__layer--back { background: rgb(123,210,102); } */
  /* #group3 { z-index: 4; /1* slide over group 2 and 4 *1/ } */
  /* #group3 .parallax__layer--base { background: rgb(153,216,101); } */
  /* #group4 { z-index: 2; /1* slide under group 3 and 5 *1/ } */
  /* #group4 .parallax__layer--deep { background: rgb(184,223,101); } */
  /* #group5 { z-index: 3; /1* slide over group 4 and 6 *1/ } */
  /* #group5 .parallax__layer--base { background: rgb(214,229,100); } */
  /* #group6 { z-index: 2; /1* slide under group 5 and 7 *1/ } */
  /* #group6 .parallax__layer--back { background: rgb(245,235,100); } */
  /* #group7 { z-index: 3; /1* slide over group 7 *1/ } */
  /* #group7 .parallax__layer--base { background: rgb(255,241,100); } */



