
.cv {
  display: inline-grid;
  color: var(--fg-3);
  z-index: 30;
  margin: 0;
  width: 100%;

  transition: all 0.9s ease,
              width 0.9s ease 0.0s,
              max-width 0.9s ease 0.0s,
              margin 0.3s ease 0.0s;

  &.fullscreen {
    border: var(--line-width) solid var(--line-color);
    margin-top: calc(0px - var(--line-width));
    margin-bottom: calc(0px - var(--line-width));
    z-index: 15; // ensure fader above blacks out top border within main
  }

  .cv-skills {
    background: linear-gradient(180deg, var(--bg-2) 20%, var(--bg-3) 90%);
    margin-top: calc(0px - 2.0 * var(--space));
    padding-top: calc(0px - 0.0 * var(--space));
    font-size: 0.7em;
    padding-left: 15%;
    padding-right: 15%;
    z-index: 100;
    border-top: var(--line-width) solid var(--bg-6);

    h1 {
      padding: var(--space);
      text-align: center;
    }

    .cv-skill {
      padding: var(--space);
      color: var(--fg-6);
      min-height: 25em;
      
      .cv-skill-line span {
        background: var(--bg-3);
        color: var(--fg-2);
      }
    }
  }
}

.cv-intro {
  background: linear-gradient(180deg, var(--bg-pure) 10%, var(--bg-1) 60%, var(--bg-2) 90%);

  .cv-howto {
    font-size: 65%;
    padding: var(--space);
  }

  img {
    filter: var(--logo-flip);
    width: 100%;
    background-color: var(--bg-pure);
  }
  
  h1 {
    padding-top: var(--space-lg);
    text-align: center;
  }
  > p {
    margin: calc(0px - 2.5 * var(--line-width)) 0;
    padding: var(--space-lg);
    border-bottom: var(--line-width) solid var(--bg-6);
    background: linear-gradient(180deg, var(--bg-pure) 20%,  hsl(179, 9%, var(--lum-bg-2)));
  }
  button {
    margin-bottom: var(--space-lg);
  }

}

.modal-zoom {
  .cv-boxes {
    font-size: 75%;
  }
}

.cv-boxes {
  overflow-x: scroll;
  font-size: 80%;
}

@mixin i-gradient {
  i {
    background: linear-gradient(-45deg, var(--fg-1), var(--bg-6));
    background-clip: text;
    color: transparent;
  }
}

.cv-items {
  position: relative;
  padding-top: calc(0.5 * var(--space));
  border-bottom: var(--line-width-sm) solid var(--bg-6);
  min-height: 15em;
  width: 180em;
  overflow-x: scroll;

  &.cv-education {
    background: linear-gradient(0deg, var(--bg-3), var(--bg-2));
    max-height: 12em;
    
    @include i-gradient;

    .cv-detail {
      max-height: 18em;
    }
  }
  &.cv-work {
    background: linear-gradient(0deg, var(--bg-5), var(--bg-3));
    height: 46em;
    @include i-gradient;
  }
  &.cv-life {
    background: linear-gradient(0deg, var(--bg-6), var(--bg-5));
    height: 26em;
    
    @include i-gradient;
  }
  h1 {
    text-align: right;
    color: var(--fg-6);
    padding: 0;
    padding-right: var(--space);

    i {
      padding-right: calc(0.5 * var(--space));
    }
  }
}

.cv-detail {
  font-size: 0.8em;
  position: absolute;
  background-color: var(--fg-4);
  color: var(--bg-1);
  min-height: 10em;
  opacity: 93%;
  border-radius: 0.2em;
  border-bottom-right-radius: 1.2em;
  box-shadow: 2px 2px 17px var(--box-regular-color); 
  overflow: hidden;
  min-width: 12em;
  
  transition: all 0.5s ease;

  img {
    position: absolute;
    width: 5em;
    display: none;
    bottom: 0;
    right: 0;
    margin: 0.2em;
    padding: 0.2em;
    border-radius: 25%;
    border-bottom-right-radius: 20%;
    border-right: 1px solid var(--bg-4);
    border-bottom: 1px solid var(--bg-4);
    box-shadow: 2px 2px 5px 4px var(--box-faint-color);
    text-shadow: 2px 2px 5px 4px var(--box-faint-color);
  }

  .cv-bg-logo {
      height: 100%;
      width: 100%;
      position: absolute;
      z-index: -100;
      background-repeat: no-repeat;
      opacity: 0.1;
      background-size: inherit;
      background-position-x: right;
      background-position-y: bottom;
      
      --from-fade: 35%;
      --from-alpha: 0.0;
      --to-fade: 65%;
      --to-alpha: 1.0;
      transition: -webkit-mask 0.5s ease;
      -webkit-mask: linear-gradient(to right, rgba(0,0,0,var(--from-alpha)) var(--from-fade),
                                              rgba(0,0,0,var(--to-alpha)) var(--to-fade));
  }
  
  &:hover {
    .cv-bg-logo { // sadly not animatable :() use js animation! with spring!! muah
      // --from-fade: 30%;
      // --to-fade: 50%;

      --from-alpha: 0.3;
      --to-alpha: 1.0;
    }
  }
  
  span, p {
    margin: 0.3em;
    margin-left: 0.6em;
    margin-right: 0.6em;
  }

  .cv-from, .cv-to {
    color: var(--bg-5);
  }

  .cv-to {
    position: absolute;
    right: 0;
    top: 0;
  }
  
  .cv-where {
    position: absolute;
    bottom: 0;
    left: 0;
  }

  &.cv-detail-expanded {
    min-height: 25em;
    max-height: 40em;
    position: fixed;
    z-index: 10;
    left: 10%;
    width: 80%;
    padding: var(--space-lg);
    font-size: 0.9rem;
    opacity: 90%;
    backdrop-filter: blur(1rem); // no go unless have alpha on bg color, sadfly
    border-bottom-right-radius: 2.4em;
    transform: scale(1);
    
    i {
      background: linear-gradient(-45deg, var(--bg-1), var(--bg-6));
      background-clip: text;
      color: transparent;
      margin-left: calc(0px - var(--space));
      margin-right: calc(0.35 * var(--space));
    }

    img {
      position: absolute;
      display: initial;
      width: 10em;
    }
    
    .cv-bg-logo {
        background-size: contain;
    }
    
    .cv-from {
      position: absolute;
      left: 0;
      top: 0;
    }

    h2 {
      padding-bottom: var(--space);
    }
    
    .cv-what {
    }
  }

  &.cv-detail-closing {
    transform: scale(0);
  }

}
